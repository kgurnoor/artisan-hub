{"ast":null,"code":"import axios from 'axios';\nimport { ORDER_CREATE_FAIL, ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_DELIVER_FAIL, ORDER_DELIVER_REQUEST, ORDER_DELIVER_SUCCESS, ORDER_DETAILS_FAIL, ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_LIST_FAIL, ORDER_LIST_MY_FAIL, ORDER_LIST_MY_REQUEST, ORDER_LIST_MY_SUCCESS, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_PAY_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS } from './actionTypes';\nexport const createOrder = order => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: ORDER_CREATE_REQUEST\n      });\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const response = await axios.post(`/api/orders`, order, config);\n      dispatch({\n        type: ORDER_CREATE_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: ORDER_CREATE_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const getOrderDetails = id => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: ORDER_DETAILS_REQUEST\n      });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const response = await axios.get(`/api/orders/${id}`, config);\n      dispatch({\n        type: ORDER_DETAILS_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: ORDER_DETAILS_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const payOrder = (orderId, paymentResult) => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: ORDER_PAY_REQUEST\n      });\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const response = await axios.put(`/api/orders/${orderId}/pay`, paymentResult, config);\n      dispatch({\n        type: ORDER_PAY_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: ORDER_PAY_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const deliverOrder = order => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: ORDER_DELIVER_REQUEST\n      });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const response = await axios.put(`/api/orders/${order._id}/deliver`, {}, config);\n      dispatch({\n        type: ORDER_DELIVER_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: ORDER_DELIVER_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const listMyOrders = () => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: ORDER_LIST_MY_REQUEST\n      });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const response = await axios.get(`/api/orders/myorders`, config);\n      dispatch({\n        type: ORDER_LIST_MY_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: ORDER_LIST_MY_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const listOrders = () => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: ORDER_LIST_REQUEST\n      });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const response = await axios.get(`/api/orders`, config);\n      dispatch({\n        type: ORDER_LIST_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: ORDER_LIST_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","ORDER_CREATE_FAIL","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_DELIVER_FAIL","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DETAILS_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_LIST_FAIL","ORDER_LIST_MY_FAIL","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","createOrder","order","dispatch","getState","type","config","headers","Authorization","userLogin","userInfo","token","response","post","payload","data","error","message","getOrderDetails","id","get","payOrder","orderId","paymentResult","put","deliverOrder","_id","listMyOrders","listOrders"],"sources":["C:/Users/gurno/Documents/pec-sem5/SE/artisan-hub/client/src/store/actions/orderActions.js"],"sourcesContent":["import axios from 'axios';\r\nimport {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n  ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n  ORDER_LIST_MY_FAIL,\r\n  ORDER_LIST_MY_REQUEST,\r\n  ORDER_LIST_MY_SUCCESS,\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_SUCCESS,\r\n} from './actionTypes';\r\n\r\nexport const createOrder = (order) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: ORDER_CREATE_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      const response = await axios.post(`/api/orders`, order, config);\r\n\r\n      dispatch({ type: ORDER_CREATE_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ORDER_CREATE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getOrderDetails = (id) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: ORDER_DETAILS_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      const response = await axios.get(`/api/orders/${id}`, config);\r\n\r\n      dispatch({ type: ORDER_DETAILS_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ORDER_DETAILS_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const payOrder = (orderId, paymentResult) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: ORDER_PAY_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      const response = await axios.put(\r\n        `/api/orders/${orderId}/pay`,\r\n        paymentResult,\r\n        config\r\n      );\r\n\r\n      dispatch({ type: ORDER_PAY_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ORDER_PAY_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const deliverOrder = (order) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: ORDER_DELIVER_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      const response = await axios.put(\r\n        `/api/orders/${order._id}/deliver`,\r\n        {},\r\n        config\r\n      );\r\n\r\n      dispatch({ type: ORDER_DELIVER_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ORDER_DELIVER_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const listMyOrders = () => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: ORDER_LIST_MY_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      const response = await axios.get(`/api/orders/myorders`, config);\r\n\r\n      dispatch({ type: ORDER_LIST_MY_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ORDER_LIST_MY_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const listOrders = () => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: ORDER_LIST_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      const response = await axios.get(`/api/orders`, config);\r\n\r\n      dispatch({ type: ORDER_LIST_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ORDER_LIST_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}