{"ast":null,"code":"import axios from 'axios';\nimport { PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_REVIEW_FAIL, PRODUCT_CREATE_REVIEW_REQUEST, PRODUCT_CREATE_REVIEW_SUCCESS, PRODUCT_CREATE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DETAIL_FAIL, PRODUCT_DETAIL_REQUEST, PRODUCT_DETAIL_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_TOP_FAIL, PRODUCT_TOP_REQUEST, PRODUCT_TOP_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS } from './actionTypes';\nexport const listProducts = (keyword = '', pageNumber = '') => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: PRODUCT_LIST_REQUEST\n      });\n      const response = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`);\n      dispatch({\n        type: PRODUCT_LIST_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_LIST_FAIL,\n        error: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const listProductDetail = id => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: PRODUCT_DETAIL_REQUEST\n      });\n      const response = await axios.get(`/api/products/${id}`);\n      dispatch({\n        type: PRODUCT_DETAIL_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_DETAIL_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const deleteProduct = id => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_DELETE_REQUEST\n      });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      await axios.delete(`/api/products/${id}`, config);\n      dispatch({\n        type: PRODUCT_DELETE_SUCCESS\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_DELETE_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const createProduct = () => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_CREATE_REQUEST\n      });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.post(`/api/products`, {}, config);\n      dispatch({\n        type: PRODUCT_CREATE_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_CREATE_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const updateProduct = product => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_UPDATE_REQUEST\n      });\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(`/api/products/${product._id}`, product, config);\n      dispatch({\n        type: PRODUCT_UPDATE_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_UPDATE_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const createProductReview = (productId, review) => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_REQUEST\n      });\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      await axios.post(`/api/products/${productId}/reviews`, review, config);\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_SUCCESS\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const listTopProducts = () => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: PRODUCT_TOP_REQUEST\n      });\n      const response = await axios.get(`/api/products/top`);\n      dispatch({\n        type: PRODUCT_TOP_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_TOP_FAIL,\n        error: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DETAIL_FAIL","PRODUCT_DETAIL_REQUEST","PRODUCT_DETAIL_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_TOP_FAIL","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","listProducts","keyword","pageNumber","dispatch","type","response","get","payload","data","error","message","listProductDetail","id","deleteProduct","getState","config","headers","Authorization","userLogin","userInfo","token","delete","createProduct","post","updateProduct","product","put","_id","createProductReview","productId","review","listTopProducts"],"sources":["C:/Users/gurno/Documents/pec-sem5/SE/artisan-hub/client/src/store/actions/productActions.js"],"sourcesContent":["import axios from 'axios';\r\nimport {\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_FAIL,\r\n  PRODUCT_CREATE_REVIEW_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_SUCCESS,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DETAIL_FAIL,\r\n  PRODUCT_DETAIL_REQUEST,\r\n  PRODUCT_DETAIL_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_TOP_FAIL,\r\n  PRODUCT_TOP_REQUEST,\r\n  PRODUCT_TOP_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n} from './actionTypes';\r\n\r\nexport const listProducts = (keyword = '', pageNumber = '') => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_LIST_REQUEST });\r\n      const response = await axios.get(\r\n        `/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n      );\r\n      dispatch({ type: PRODUCT_LIST_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_LIST_FAIL,\r\n        error:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const listProductDetail = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_DETAIL_REQUEST });\r\n      const response = await axios.get(`/api/products/${id}`);\r\n      dispatch({ type: PRODUCT_DETAIL_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_DETAIL_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteProduct = (id) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_DELETE_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      await axios.delete(`/api/products/${id}`, config);\r\n\r\n      dispatch({ type: PRODUCT_DELETE_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_DELETE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const createProduct = () => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_CREATE_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      const { data } = await axios.post(`/api/products`, {}, config);\r\n\r\n      dispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_CREATE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateProduct = (product) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_UPDATE_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      const { data } = await axios.put(\r\n        `/api/products/${product._id}`,\r\n        product,\r\n        config\r\n      );\r\n\r\n      dispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_UPDATE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const createProductReview = (productId, review) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST });\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\r\n        },\r\n      };\r\n      await axios.post(`/api/products/${productId}/reviews`, review, config);\r\n\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_SUCCESS });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_CREATE_REVIEW_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const listTopProducts = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_TOP_REQUEST });\r\n      const response = await axios.get(`/api/products/top`);\r\n      dispatch({ type: PRODUCT_TOP_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_TOP_FAIL,\r\n        error:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}